{"openapi":"3.0.1","info":{"title":"电商系统API文档","description":"电商系统接口文档","version":"1.0"},"servers":[{"url":"http://localhost:8080/ecommerce-api","description":"Generated server url"}],"tags":[{"name":"客户管理","description":"客户相关的API接口，包括客户注册、登录、信息管理等功能"},{"name":"订单管理","description":"订单相关接口"},{"name":"商品管理","description":"商品相关的API接口，包括商品的增删改查、状态管理、库存查询等功能"},{"name":"库存管理","description":"商品库存相关的API接口，包括库存查询、更新、低库存预警等功能"},{"name":"配送管理","description":"配送相关的API接口"}],"paths":{"/products/{id}":{"get":{"tags":["商品管理"],"summary":"获取商品详情","description":"根据商品ID获取商品的详细信息，包括名称、描述、价格、库存、状态等","operationId":"getProductDetail","parameters":[{"name":"id","in":"path","description":"商品ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"200":{"description":"查询成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"},"example":{"code":200,"message":"操作成功","data":{"id":1,"name":"商品名称","price":99.99}}}}},"404":{"description":"商品不存在","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"},"example":{"code":404,"message":"商品不存在","data":null}}}}}},"put":{"tags":["商品管理"],"summary":"更新商品信息","description":"根据商品ID更新商品的基本信息，如名称、描述、价格、库存等","operationId":"updateProduct","parameters":[{"name":"id","in":"path","description":"商品ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductUpdateDTO"}}},"required":true},"responses":{"404":{"description":"商品不存在","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}},"400":{"description":"参数验证失败","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}},"200":{"description":"更新成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}}}},"delete":{"tags":["商品管理"],"summary":"删除商品","description":"根据商品ID删除商品信息，删除后商品将无法恢复","operationId":"deleteProduct","parameters":[{"name":"id","in":"path","description":"商品ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"404":{"description":"商品不存在","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}},"200":{"description":"删除成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}}}}},"/orders/{orderId}/status":{"put":{"tags":["订单管理"],"summary":"更新订单状态","description":"更新订单状态","operationId":"updateOrderStatus","parameters":[{"name":"orderId","in":"path","description":"订单ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"status","in":"query","description":"订单状态","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultVoid"}}}}}}},"/orders/{orderId}/pay":{"put":{"tags":["订单管理"],"summary":"支付订单","description":"标记订单为已支付状态","operationId":"payOrder","parameters":[{"name":"orderId","in":"path","description":"订单ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultVoid"}}}}}}},"/orders/{orderId}/confirm":{"put":{"tags":["订单管理"],"summary":"确认收货","description":"确认收货，订单完成","operationId":"confirmOrder","parameters":[{"name":"orderId","in":"path","description":"订单ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultVoid"}}}}}}},"/orders/{orderId}/cancel":{"put":{"tags":["订单管理"],"summary":"取消订单","description":"取消指定订单","operationId":"cancelOrder","parameters":[{"name":"orderId","in":"path","description":"订单ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultVoid"}}}}}}},"/inventory/product/{productId}/threshold":{"put":{"tags":["库存管理"],"summary":"更新低库存阈值","description":"设置指定商品的低库存预警阈值","operationId":"updateLowStockThreshold","parameters":[{"name":"productId","in":"path","description":"商品ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"threshold","in":"query","description":"低库存阈值","required":true,"schema":{"minimum":0,"type":"integer","format":"int32"},"example":10}],"responses":{"404":{"description":"商品不存在","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}},"400":{"description":"参数错误","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}},"200":{"description":"更新成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"},"example":{"code":200,"message":"低库存阈值更新成功","data":null}}}}}}},"/inventory/product/{productId}/stock":{"put":{"tags":["库存管理"],"summary":"更新商品库存","description":"更新指定商品的库存数量，支持增加或减少","operationId":"updateInventory","parameters":[{"name":"productId","in":"path","description":"商品ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"stockChange","in":"query","description":"库存变化量，正数为增加，负数为减少","required":true,"schema":{"type":"integer","format":"int32"},"example":10}],"responses":{"404":{"description":"商品不存在","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}},"200":{"description":"更新成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"},"example":{"code":200,"message":"库存更新成功","data":null}}}},"400":{"description":"参数错误或库存不足","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}}}}},"/inventory/batch-update":{"put":{"tags":["库存管理"],"summary":"批量更新库存","description":"批量更新多个商品的库存数量","operationId":"batchUpdateInventory","parameters":[{"name":"productIds","in":"query","description":"商品ID列表，用逗号分隔","required":true,"schema":{"type":"string"},"example":"1,2,3"},{"name":"stockChanges","in":"query","description":"对应的库存变化量列表，用逗号分隔","required":true,"schema":{"type":"string"},"example":"10,-5,20"}],"responses":{"200":{"description":"批量更新成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"},"example":{"code":200,"message":"批量库存更新成功","data":null}}}},"400":{"description":"参数错误","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}}}}},"/customers/{id}":{"get":{"tags":["客户管理"],"summary":"获取客户信息","description":"根据客户ID获取客户详细信息","operationId":"getCustomer","parameters":[{"name":"id","in":"path","description":"客户ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"获取成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}},"404":{"description":"客户不存在","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}}}},"put":{"tags":["客户管理"],"summary":"更新客户信息","description":"更新客户的个人信息","operationId":"updateCustomer","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerUpdateDTO"}}},"required":true},"responses":{"400":{"description":"参数验证失败","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}},"200":{"description":"更新成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}},"404":{"description":"客户不存在","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}}}},"delete":{"tags":["客户管理"],"summary":"删除客户","description":"根据客户ID删除客户账号","operationId":"deleteCustomer","parameters":[{"name":"id","in":"path","description":"客户ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"删除成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}},"404":{"description":"客户不存在","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}}}}},"/api/delivery/order/{orderId}":{"get":{"tags":["配送管理"],"summary":"根据订单ID查询配送信息","operationId":"getDeliveryByOrderId","parameters":[{"name":"orderId","in":"path","description":"订单ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultDeliveryVO"}}}}}},"put":{"tags":["配送管理"],"summary":"更新配送信息","operationId":"updateDelivery","parameters":[{"name":"orderId","in":"path","description":"订单ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeliveryUpdateDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultVoid"}}}}}},"post":{"tags":["配送管理"],"summary":"创建配送信息","operationId":"createDelivery","parameters":[{"name":"orderId","in":"path","description":"订单ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultDeliveryVO"}}}}}}},"/api/delivery/order/{orderId}/status":{"put":{"tags":["配送管理"],"summary":"更新配送状态","operationId":"updateDeliveryStatus","parameters":[{"name":"orderId","in":"path","description":"订单ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"status","in":"query","description":"配送状态","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultVoid"}}}}}}},"/test/redis/connect":{"post":{"tags":["redis-test-controller"],"operationId":"testConnection","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultObject"}}}}}}},"/test/mysql/crud":{"post":{"tags":["database-test-controller"],"operationId":"testCRUD","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultObject"}}}}}}},"/test/mysql/connect":{"post":{"tags":["database-test-controller"],"operationId":"testConnection_1","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultObject"}}}}}}},"/products":{"get":{"tags":["商品管理"],"summary":"获取商品列表","description":"获取所有商品列表，支持分页","operationId":"getProducts","parameters":[{"name":"pageNum","in":"query","description":"页码，默认为1","required":false,"schema":{"type":"integer","format":"int32","default":1}},{"name":"pageSize","in":"query","description":"每页大小，默认为10","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageResultProduct"}}}}}},"post":{"tags":["商品管理"],"summary":"创建商品","description":"创建新的商品信息，包括商品名称、描述、价格、库存等基本信息","operationId":"createProduct","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductCreateDTO"}}},"required":true},"responses":{"400":{"description":"参数验证失败","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"},"example":{"code":400,"message":"商品名称不能为空","data":null}}}},"200":{"description":"创建成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}},"500":{"description":"服务器内部错误","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}}}}},"/orders":{"get":{"tags":["订单管理"],"summary":"查询订单列表","description":"分页查询订单列表，支持条件筛选","operationId":"searchOrders","parameters":[{"name":"arg0","in":"query","description":"查询条件","required":true,"schema":{"$ref":"#/components/schemas/OrderQueryDTO"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultPageResultOrderDetailsView"}}}}}},"post":{"tags":["订单管理"],"summary":"创建订单","description":"根据商品信息创建新订单","operationId":"createOrder","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderCreateDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultOrder"}}}}}}},"/inventory/query":{"post":{"tags":["库存管理"],"summary":"条件查询库存列表","description":"根据条件查询库存信息，支持多种筛选条件","operationId":"queryInventory","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InventoryQueryDTO"}}},"required":true},"responses":{"200":{"description":"查询成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageResult"},"example":{"code":200,"message":"操作成功","data":{"records":[],"total":0,"pageNum":1,"pageSize":10}}}}},"400":{"description":"参数验证失败","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageResult"}}}}}}},"/inventory/create":{"post":{"tags":["库存管理"],"summary":"创建商品库存记录","description":"为新商品创建库存记录","operationId":"createInventory","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InventoryCreateDTO"}}},"required":true},"responses":{"404":{"description":"商品不存在","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}},"200":{"description":"创建成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"},"example":{"code":200,"message":"库存记录创建成功","data":null}}}},"400":{"description":"参数错误或商品已存在库存记录","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}}}}},"/customers/register":{"post":{"tags":["客户管理"],"summary":"客户注册","description":"新客户注册账号","operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerRegisterDTO"}}},"required":true},"responses":{"200":{"description":"注册成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"},"example":{"code":200,"message":"注册成功","data":{}}}}},"400":{"description":"参数验证失败或用户名/手机号已存在","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}}}}},"/customers/login":{"post":{"tags":["客户管理"],"summary":"客户登录","description":"客户账号登录","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerLoginDTO"}}},"required":true},"responses":{"401":{"description":"用户名或密码错误","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}},"200":{"description":"登录成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"},"example":{"code":200,"message":"登录成功","data":{}}}}}}}},"/api/delivery/order/{orderId}/ship":{"post":{"tags":["配送管理"],"summary":"发货","operationId":"shipOrder","parameters":[{"name":"orderId","in":"path","description":"订单ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"trackingNo","in":"query","description":"物流单号","required":true,"schema":{"type":"string"}},{"name":"shipper","in":"query","description":"物流公司","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultVoid"}}}}}}},"/api/delivery/order/{orderId}/confirm":{"post":{"tags":["配送管理"],"summary":"确认收货","operationId":"confirmDelivery","parameters":[{"name":"orderId","in":"path","description":"订单ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultVoid"}}}}}}},"/products/{id}/status":{"patch":{"tags":["商品管理"],"summary":"切换商品状态","description":"切换商品的启用/禁用状态，启用状态的商品可以正常销售，禁用状态的商品不可销售","operationId":"toggleProductStatus","parameters":[{"name":"id","in":"path","description":"商品ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"status","in":"query","description":"商品状态：0-下架，1-上架","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"404":{"description":"商品不存在","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}},"200":{"description":"状态切换成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}}}}},"/products/simple":{"get":{"tags":["商品管理"],"summary":"获取简化商品列表","description":"获取用于订单创建的简化商品列表，只包含基本信息","operationId":"getSimpleProducts","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultListProduct"}}}}}}},"/products/search":{"get":{"tags":["商品管理"],"summary":"搜索商品","description":"根据条件搜索商品，支持按名称、分类、价格范围、状态等条件进行筛选，支持分页查询","operationId":"searchProducts","parameters":[{"name":"arg0","in":"query","description":"商品查询条件","required":true,"schema":{"$ref":"#/components/schemas/ProductQueryDTO"}}],"responses":{"200":{"description":"搜索成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"},"example":{"code":200,"message":"操作成功","data":{"records":[],"total":0,"pageNum":1,"pageSize":10}}}}},"400":{"description":"参数验证失败","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}}}}},"/orders/{orderId}":{"get":{"tags":["订单管理"],"summary":"查询订单详情","description":"根据订单ID查询订单详细信息","operationId":"getOrderDetail","parameters":[{"name":"orderId","in":"path","description":"订单ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultOrderDetailVO"}}}}}}},"/orders/{orderId}/items":{"get":{"tags":["订单管理"],"summary":"查询订单商品明细","description":"获取订单的商品明细信息","operationId":"getOrderItems","parameters":[{"name":"orderId","in":"path","description":"订单ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultOrderDetailVO"}}}}}}},"/orders/{orderId}/delivery":{"get":{"tags":["订单管理"],"summary":"查询订单配送信息","description":"获取订单的配送信息","operationId":"getOrderDeliveryInfo","parameters":[{"name":"orderId","in":"path","description":"订单ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultDeliveryVO"}}}}}}},"/orders/stats/status":{"get":{"tags":["订单管理"],"summary":"订单状态统计","description":"统计各状态订单数量","operationId":"getOrderStatusStats","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultMapStringObject"}}}}}}},"/orders/stats/customer/{customerId}":{"get":{"tags":["订单管理"],"summary":"客户订单统计","description":"统计指定客户的订单信息","operationId":"getCustomerOrderStats","parameters":[{"name":"customerId","in":"path","description":"客户ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultMapStringObject"}}}}}}},"/orders/stats/amount":{"get":{"tags":["订单管理"],"summary":"订单金额统计","description":"统计订单金额信息","operationId":"getOrderAmountStats","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultMapStringObject"}}}}}}},"/inventory/stats":{"get":{"tags":["库存管理"],"summary":"获取库存统计信息","description":"获取库存的统计数据，包括总商品数、总库存、低库存商品数等","operationId":"getInventoryStats","responses":{"200":{"description":"查询成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"},"example":{"code":200,"message":"操作成功","data":{"totalProducts":100,"totalStock":5000,"lowStockCount":5,"avgStock":50.0}}}}}}}},"/inventory/product/{productId}":{"get":{"tags":["库存管理"],"summary":"获取商品库存信息","description":"根据商品ID获取库存详细信息","operationId":"getProductInventory","parameters":[{"name":"productId","in":"path","description":"商品ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"400":{"description":"参数错误","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}},"200":{"description":"查询成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"},"example":{"code":200,"message":"操作成功","data":{"id":1,"productId":1,"stock":100,"lowStockThreshold":10,"updateTime":"2024-01-01T10:00:00"}}}}},"404":{"description":"库存信息不存在","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}}}},"delete":{"tags":["库存管理"],"summary":"删除商品库存记录","description":"删除指定商品的库存记录","operationId":"deleteInventory","parameters":[{"name":"productId","in":"path","description":"商品ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"404":{"description":"库存记录不存在","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}},"400":{"description":"参数错误","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"}}}},"200":{"description":"删除成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"},"example":{"code":200,"message":"库存记录删除成功","data":null}}}}}}},"/inventory/low-stock":{"get":{"tags":["库存管理"],"summary":"获取低库存商品列表","description":"分页查询当前库存低于阈值的商品列表","operationId":"getLowStockProducts","parameters":[{"name":"page","in":"query","description":"页码，默认为1","required":false,"schema":{"type":"integer","format":"int32","default":1},"example":1},{"name":"size","in":"query","description":"每页大小，默认为10，最大100","required":false,"schema":{"type":"integer","format":"int32","default":10},"example":10}],"responses":{"200":{"description":"查询成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageResult"},"example":{"code":200,"message":"操作成功","data":{"records":[],"total":0,"pageNum":1,"pageSize":10}}}}},"400":{"description":"参数验证失败","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageResult"}}}}}}},"/inventory/exists/{productId}":{"get":{"tags":["库存管理"],"summary":"检查商品库存记录","description":"检查指定商品是否已有库存记录","operationId":"hasInventoryRecord","parameters":[{"name":"productId","in":"path","description":"商品ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"200":{"description":"查询成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Result"},"example":{"code":200,"message":"操作成功","data":true}}}}}}},"/customers":{"get":{"tags":["客户管理"],"summary":"获取客户列表","description":"获取所有客户列表，支持分页","operationId":"getCustomers","parameters":[{"name":"page","in":"query","description":"页码，默认为1","required":false,"schema":{"type":"integer","format":"int32","default":1}},{"name":"size","in":"query","description":"每页大小，默认为10","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageResultCustomerVO"}}}}}}},"/customers/simple":{"get":{"tags":["客户管理"],"summary":"获取简化客户列表","description":"获取所有启用状态的客户简化信息，用于下拉选择等场景","operationId":"getSimpleCustomers","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultListCustomerVO"}}}}}}},"/customers/search":{"get":{"tags":["客户管理"],"summary":"搜索客户","description":"根据条件搜索客户，支持按用户名、手机号等条件进行筛选，支持分页查询","operationId":"searchCustomers","parameters":[{"name":"arg0","in":"query","required":true,"schema":{"$ref":"#/components/schemas/CustomerQueryDTO"}}],"responses":{"400":{"description":"参数验证失败","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageResult"}}}},"200":{"description":"搜索成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageResult"},"example":{"code":200,"message":"操作成功","data":{"records":[],"total":0,"pageNum":1,"pageSize":10}}}}}}}},"/customers/check-username":{"get":{"tags":["客户管理"],"summary":"检查用户名是否存在","description":"检查指定用户名是否已被注册","operationId":"checkUsername","parameters":[{"name":"username","in":"query","description":"用户名","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultBoolean"}}}}}}},"/customers/check-phone":{"get":{"tags":["客户管理"],"summary":"检查手机号是否存在","description":"检查指定手机号是否已被注册","operationId":"checkPhone","parameters":[{"name":"phone","in":"query","description":"手机号","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultBoolean"}}}}}}},"/customers/check-email":{"get":{"tags":["客户管理"],"summary":"检查邮箱是否存在","description":"检查指定邮箱是否已被注册","operationId":"checkEmail","parameters":[{"name":"email","in":"query","description":"邮箱","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultBoolean"}}}}}}},"/api/delivery":{"get":{"tags":["配送管理"],"summary":"分页查询配送列表","operationId":"getDeliveryList","parameters":[{"name":"arg0","in":"query","description":"查询条件","required":true,"schema":{"$ref":"#/components/schemas/DeliveryQueryDTO"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultPageResultDeliveryVO"}}}}}}},"/api/delivery/{deliveryId}":{"get":{"tags":["配送管理"],"summary":"根据配送ID查询配送信息","operationId":"getDeliveryById","parameters":[{"name":"deliveryId","in":"path","description":"配送ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultDeliveryVO"}}}}}}}},"components":{"schemas":{"ProductUpdateDTO":{"type":"object","properties":{"name":{"maxLength":100,"minLength":1,"type":"string"},"description":{"maxLength":1000,"minLength":0,"type":"string"},"price":{"maximum":999999.99,"exclusiveMaximum":false,"minimum":0.01,"exclusiveMinimum":false,"type":"number"},"imageUrl":{"maxLength":500,"minLength":0,"type":"string"},"status":{"maximum":1,"minimum":0,"type":"integer","format":"int32"}},"description":"商品更新信息"},"Result":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"object"}}},"ResultVoid":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"object"}}},"CustomerUpdateDTO":{"required":["id"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"realName":{"maxLength":50,"minLength":0,"type":"string"},"phone":{"pattern":"^1[3-9]\\d{9}$","type":"string"},"email":{"maxLength":100,"minLength":0,"type":"string"},"address":{"maxLength":200,"minLength":0,"type":"string"}},"description":"客户ID"},"DeliveryUpdateDTO":{"required":["shipper","trackingNo"],"type":"object","properties":{"trackingNo":{"type":"string"},"shipper":{"type":"string"},"status":{"type":"string","enum":["SHIPPED","IN_TRANSIT","DELIVERED"]},"shipTime":{"type":"string","format":"date-time"}},"description":"配送更新信息"},"ResultObject":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"object"}}},"ProductCreateDTO":{"required":["description","name","price","storeId"],"type":"object","properties":{"name":{"maxLength":255,"minLength":1,"type":"string"},"description":{"maxLength":2000,"minLength":1,"type":"string"},"price":{"maximum":999999.99,"exclusiveMaximum":false,"minimum":0.01,"exclusiveMinimum":false,"type":"number"},"storeId":{"type":"integer","format":"int64"},"imageUrl":{"maxLength":500,"minLength":0,"type":"string"}},"description":"商品创建信息"},"OrderCreateDTO":{"required":["customerId","items"],"type":"object","properties":{"customerId":{"type":"integer","format":"int64"},"items":{"type":"array","items":{"$ref":"#/components/schemas/OrderItemDTO"}}}},"OrderItemDTO":{"required":["productId","quantity"],"type":"object","properties":{"productId":{"type":"integer","format":"int64"},"quantity":{"minimum":1,"type":"integer","format":"int32"}}},"Order":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"orderNo":{"type":"string"},"customerId":{"type":"integer","format":"int64"},"orderTime":{"type":"string","format":"date-time"},"totalAmount":{"type":"number"},"status":{"type":"string","enum":["CREATED","PAID","SHIPPING","COMPLETED","CANCELLED"]},"createTime":{"type":"string","format":"date-time"},"updateTime":{"type":"string","format":"date-time"}}},"ResultOrder":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/Order"}}},"InventoryQueryDTO":{"type":"object","properties":{"productId":{"type":"integer","format":"int64"},"minStock":{"type":"integer","format":"int32"},"maxStock":{"type":"integer","format":"int32"},"isLowStock":{"type":"boolean"},"pageNum":{"minimum":1,"type":"integer","format":"int32"},"pageSize":{"maximum":100,"minimum":1,"type":"integer","format":"int32"},"sortBy":{"type":"string"},"sortOrder":{"type":"string"}}},"PageInfoObject":{"type":"object","properties":{"total":{"type":"integer","format":"int64"},"list":{"type":"array","items":{"type":"object"}},"pageNum":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"startRow":{"type":"integer","format":"int64"},"endRow":{"type":"integer","format":"int64"},"pages":{"type":"integer","format":"int32"},"prePage":{"type":"integer","format":"int32"},"nextPage":{"type":"integer","format":"int32"},"isFirstPage":{"type":"boolean"},"isLastPage":{"type":"boolean"},"hasPreviousPage":{"type":"boolean"},"hasNextPage":{"type":"boolean"},"navigatePages":{"type":"integer","format":"int32"},"navigatepageNums":{"type":"array","items":{"type":"integer","format":"int32"}},"navigateFirstPage":{"type":"integer","format":"int32"},"navigateLastPage":{"type":"integer","format":"int32"}}},"PageResult":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PageInfoObject"}}},"InventoryCreateDTO":{"required":["initialStock","productId"],"type":"object","properties":{"productId":{"type":"integer","format":"int64"},"initialStock":{"type":"integer","format":"int32"},"lowStockThreshold":{"type":"integer","format":"int32"}}},"CustomerRegisterDTO":{"required":["confirmPassword","password","phone","username"],"type":"object","properties":{"username":{"maxLength":50,"minLength":3,"pattern":"^[a-zA-Z0-9_]+$","type":"string"},"password":{"maxLength":20,"minLength":6,"type":"string"},"confirmPassword":{"type":"string"},"phone":{"pattern":"^1[3-9]\\d{9}$","type":"string"},"email":{"maxLength":100,"minLength":0,"type":"string"},"realName":{"maxLength":50,"minLength":0,"type":"string"},"address":{"maxLength":200,"minLength":0,"type":"string"}}},"CustomerLoginDTO":{"required":["password","username"],"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}},"DeliveryVO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"orderId":{"type":"integer","format":"int64"},"trackingNo":{"type":"string"},"shipper":{"type":"string"},"status":{"type":"string"},"statusDesc":{"type":"string"},"shipTime":{"type":"string","format":"date-time"},"estimateTime":{"type":"string","format":"date-time"},"deliveryTime":{"type":"string","format":"date-time"},"createTime":{"type":"string","format":"date-time"}}},"ResultDeliveryVO":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/DeliveryVO"}}},"PageInfoProduct":{"type":"object","properties":{"total":{"type":"integer","format":"int64"},"list":{"type":"array","items":{"$ref":"#/components/schemas/Product"}},"pageNum":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"startRow":{"type":"integer","format":"int64"},"endRow":{"type":"integer","format":"int64"},"pages":{"type":"integer","format":"int32"},"prePage":{"type":"integer","format":"int32"},"nextPage":{"type":"integer","format":"int32"},"isFirstPage":{"type":"boolean"},"isLastPage":{"type":"boolean"},"hasPreviousPage":{"type":"boolean"},"hasNextPage":{"type":"boolean"},"navigatePages":{"type":"integer","format":"int32"},"navigatepageNums":{"type":"array","items":{"type":"integer","format":"int32"}},"navigateFirstPage":{"type":"integer","format":"int32"},"navigateLastPage":{"type":"integer","format":"int32"}}},"PageResultProduct":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PageInfoProduct"}}},"Product":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"storeId":{"type":"integer","format":"int64"},"name":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"salesCount":{"type":"integer","format":"int32"},"imageUrl":{"type":"string"},"createTime":{"type":"string","format":"date-time"},"updateTime":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"productStatus":{"type":"string","enum":["OFF_SHELF","ON_SHELF"]},"statusDesc":{"type":"string"},"offShelf":{"type":"boolean"},"onShelf":{"type":"boolean"}}},"ResultListProduct":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/Product"}}}},"ProductQueryDTO":{"type":"object","properties":{"name":{"maxLength":255,"minLength":0,"type":"string"},"storeId":{"type":"integer","format":"int64"},"minPrice":{"minimum":0.01,"exclusiveMinimum":false,"type":"number"},"maxPrice":{"minimum":0.01,"exclusiveMinimum":false,"type":"number"},"status":{"maximum":1,"minimum":0,"type":"integer","format":"int32"},"inStock":{"type":"boolean"},"pageNum":{"maximum":10000,"minimum":1,"type":"integer","format":"int32"},"pageSize":{"maximum":100,"minimum":1,"type":"integer","format":"int32"},"offset":{"type":"integer","format":"int32"},"adminQuery":{"type":"boolean"}}},"OrderQueryDTO":{"type":"object","properties":{"orderNo":{"type":"string"},"customerId":{"type":"integer","format":"int64"},"status":{"type":"string","enum":["CREATED","PAID","SHIPPING","COMPLETED","CANCELLED"]},"startTime":{"type":"string","format":"date-time"},"endTime":{"type":"string","format":"date-time"},"pageNum":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"offset":{"type":"integer","format":"int32"}}},"OrderDetailsView":{"type":"object","properties":{"orderId":{"type":"integer","format":"int64"},"orderNo":{"type":"string"},"orderTime":{"type":"string","format":"date-time"},"totalAmount":{"type":"number"},"orderStatus":{"type":"string"},"customerId":{"type":"integer","format":"int64"},"customerName":{"type":"string"},"customerPhone":{"type":"string"},"deliveryId":{"type":"integer","format":"int64"},"trackingNo":{"type":"string"},"shipper":{"type":"string"},"deliveryStatus":{"type":"string"},"products":{"type":"string"},"itemCount":{"type":"integer","format":"int32"},"productList":{"type":"array","items":{"type":"string"}}}},"PageInfoOrderDetailsView":{"type":"object","properties":{"total":{"type":"integer","format":"int64"},"list":{"type":"array","items":{"$ref":"#/components/schemas/OrderDetailsView"}},"pageNum":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"startRow":{"type":"integer","format":"int64"},"endRow":{"type":"integer","format":"int64"},"pages":{"type":"integer","format":"int32"},"prePage":{"type":"integer","format":"int32"},"nextPage":{"type":"integer","format":"int32"},"isFirstPage":{"type":"boolean"},"isLastPage":{"type":"boolean"},"hasPreviousPage":{"type":"boolean"},"hasNextPage":{"type":"boolean"},"navigatePages":{"type":"integer","format":"int32"},"navigatepageNums":{"type":"array","items":{"type":"integer","format":"int32"}},"navigateFirstPage":{"type":"integer","format":"int32"},"navigateLastPage":{"type":"integer","format":"int32"}}},"PageResultOrderDetailsView":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PageInfoOrderDetailsView"}}},"ResultPageResultOrderDetailsView":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PageResultOrderDetailsView"}}},"CustomerVO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"realName":{"type":"string"},"phone":{"type":"string"},"address":{"type":"string"}}},"OrderDetailVO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"orderNo":{"type":"string"},"customerId":{"type":"integer","format":"int64"},"totalAmount":{"type":"number"},"status":{"type":"string"},"orderTime":{"type":"string","format":"date-time"},"createTime":{"type":"string","format":"date-time"},"updateTime":{"type":"string","format":"date-time"},"customer":{"$ref":"#/components/schemas/CustomerVO"},"delivery":{"$ref":"#/components/schemas/DeliveryVO"},"items":{"type":"array","items":{"$ref":"#/components/schemas/OrderItemVO"}}}},"OrderItemVO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"productId":{"type":"integer","format":"int64"},"productName":{"type":"string"},"quantity":{"type":"integer","format":"int32"},"unitPrice":{"type":"number"},"itemAmount":{"type":"number"}}},"ResultOrderDetailVO":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/OrderDetailVO"}}},"ResultMapStringObject":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"object","additionalProperties":{"type":"object"}}}},"PageInfoCustomerVO":{"type":"object","properties":{"total":{"type":"integer","format":"int64"},"list":{"type":"array","items":{"$ref":"#/components/schemas/CustomerVO"}},"pageNum":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"startRow":{"type":"integer","format":"int64"},"endRow":{"type":"integer","format":"int64"},"pages":{"type":"integer","format":"int32"},"prePage":{"type":"integer","format":"int32"},"nextPage":{"type":"integer","format":"int32"},"isFirstPage":{"type":"boolean"},"isLastPage":{"type":"boolean"},"hasPreviousPage":{"type":"boolean"},"hasNextPage":{"type":"boolean"},"navigatePages":{"type":"integer","format":"int32"},"navigatepageNums":{"type":"array","items":{"type":"integer","format":"int32"}},"navigateFirstPage":{"type":"integer","format":"int32"},"navigateLastPage":{"type":"integer","format":"int32"}}},"PageResultCustomerVO":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PageInfoCustomerVO"}}},"ResultListCustomerVO":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/CustomerVO"}}}},"CustomerQueryDTO":{"type":"object","properties":{"username":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"page":{"minimum":1,"type":"integer","format":"int32"},"size":{"maximum":100,"minimum":1,"type":"integer","format":"int32"},"offset":{"type":"integer","format":"int32"}}},"ResultBoolean":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"boolean"}}},"DeliveryQueryDTO":{"type":"object","properties":{"orderId":{"type":"integer","format":"int64"},"trackingNo":{"type":"string"},"shipper":{"type":"string"},"status":{"type":"string"},"shipTimeStart":{"type":"string","format":"date-time"},"shipTimeEnd":{"type":"string","format":"date-time"},"createTimeStart":{"type":"string","format":"date-time"},"createTimeEnd":{"type":"string","format":"date-time"},"pageNum":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"offset":{"type":"integer","format":"int32"}}},"PageInfoDeliveryVO":{"type":"object","properties":{"total":{"type":"integer","format":"int64"},"list":{"type":"array","items":{"$ref":"#/components/schemas/DeliveryVO"}},"pageNum":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"startRow":{"type":"integer","format":"int64"},"endRow":{"type":"integer","format":"int64"},"pages":{"type":"integer","format":"int32"},"prePage":{"type":"integer","format":"int32"},"nextPage":{"type":"integer","format":"int32"},"isFirstPage":{"type":"boolean"},"isLastPage":{"type":"boolean"},"hasPreviousPage":{"type":"boolean"},"hasNextPage":{"type":"boolean"},"navigatePages":{"type":"integer","format":"int32"},"navigatepageNums":{"type":"array","items":{"type":"integer","format":"int32"}},"navigateFirstPage":{"type":"integer","format":"int32"},"navigateLastPage":{"type":"integer","format":"int32"}}},"PageResultDeliveryVO":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PageInfoDeliveryVO"}}},"ResultPageResultDeliveryVO":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PageResultDeliveryVO"}}}}}}